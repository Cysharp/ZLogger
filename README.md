<!--
GENERATED FILE - DO NOT EDIT
This file was generated by [MarkdownSnippets](https://github.com/SimonCropp/MarkdownSnippets).
Source File: /README.source.md
To change this file edit the source file and then run MarkdownSnippets.
-->

ZLogger
===
[![CircleCI](https://circleci.com/gh/Cysharp/ZLogger.svg?style=svg)](https://circleci.com/gh/Cysharp/ZLogger)

Coming soon.

<!-- toc -->
## Contents

  * [NuGet](#nuget)
  * [Usage](#usage)
    * [Config at startup](#config-at-startup)
    * [Writing entries](#writing-entries)<!-- endtoc -->


## NuGet

> PM> Install-Package [ZLogger](https://www.nuget.org/packages/ZLogger)


## Usage


### Config at startup

<!-- snippet: startup -->
<a id='snippet-startup'/></a>
```cs
Host.CreateDefaultBuilder()
    .ConfigureLogging(logging =>
    {
        // optional:clear default providers.
        logging.ClearProviders();

        // Add Console Logging.
        logging.AddZLoggerConsole();

        // Add File Logging.
        logging.AddZLoggerFile("fileName.log");

        // Add Rolling File Logging.
        logging.AddZLoggerRollingFile((dt, x) => $"logs/{dt.ToLocalTime():yyyy-MM-dd}_{x:000}.log", x => x.ToLocalTime().Date, 1024 * 1024);

        // Enable Structured Logging
        logging.AddZLoggerConsole(options =>
        {
            options.UseDefaultStructuredLogFormatter();
        });
    });
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L11-L33' title='File snippet `startup` was extracted from'>snippet source</a> | <a href='#snippet-startup' title='Navigate to start of snippet `startup`'>anchor</a></sup>
<!-- endsnippet -->


### Writing entries


#### Text

<!-- snippet: log-text -->
<a id='snippet-log-text'/></a>
```cs
logger.ZLogDebug("foo{0} bar{1}", 10, 20);
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L38-L40' title='File snippet `log-text` was extracted from'>snippet source</a> | <a href='#snippet-log-text' title='Navigate to start of snippet `log-text`'>anchor</a></sup>
<!-- endsnippet -->


#### With Structure

<!-- snippet: log-with-structure -->
<a id='snippet-log-with-structure'/></a>
```cs
logger.ZLogDebug(new { Foo = 10, Bar = 20 }, "foo{0} bar{1}", 10, 20);
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L42-L44' title='File snippet `log-with-structure` was extracted from'>snippet source</a> | <a href='#snippet-log-with-structure' title='Navigate to start of snippet `log-with-structure`'>anchor</a></sup>
<!-- endsnippet -->


#### Prepared

<!-- snippet: log-prepared -->
<a id='snippet-log-prepared'/></a>
```cs
var foobarLogger1 = ZLoggerMessage.Define<int, int>(LogLevel.Debug, new EventId(10, "hoge"), "foo{0} bar{1}");
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L46-L48' title='File snippet `log-prepared` was extracted from'>snippet source</a> | <a href='#snippet-log-prepared' title='Navigate to start of snippet `log-prepared`'>anchor</a></sup>
<!-- endsnippet -->


#### Prepared With Structure

<!-- snippet: message-structure -->
<a id='snippet-message-structure'/></a>
```cs
public struct MyMessage
{
    public int Foo { get; set; }
    public int Bar { get; set; }
}
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L54-L60' title='File snippet `message-structure` was extracted from'>snippet source</a> | <a href='#snippet-message-structure' title='Navigate to start of snippet `message-structure`'>anchor</a></sup>
<!-- endsnippet -->

<!-- snippet: log-prepared-with-structure -->
<a id='snippet-log-prepared-with-structure'/></a>
```cs
var foobarLogger2 = ZLoggerMessage.DefineWithPayload<MyMessage, int, int>(LogLevel.Warning, new EventId(10, "hoge"), "foo{0} bar{1}");
```
<sup><a href='/tests/ZLogger.Tests/Snippets.cs#L50-L52' title='File snippet `log-prepared-with-structure` was extracted from'>snippet source</a> | <a href='#snippet-log-prepared-with-structure' title='Navigate to start of snippet `log-prepared-with-structure`'>anchor</a></sup>
<!-- endsnippet -->


License
---
This library is licensed under the the MIT License.
